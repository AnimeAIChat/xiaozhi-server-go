(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["44d60379"],{a8e90e34:function(e,a,t){"use strict";t.d(a,"__esModule",{value:!0}),t.d(a,"API",{enumerable:!0,get:function(){return r;}});var s=t("777fffbe")._(t("795f1363")),i=t("1fc97d93"),n=t("9a7ec01c"),d=t("23f8e02c");let r=s.default.create({baseURL:n.ENV.API_BASE_URL});r.interceptors.request.use(e=>{let a=(0,d.authHeader)();return e.headers&&"function"==typeof e.headers.set?a.Authorization&&e.headers.set("Authorization",a.Authorization):e.headers&&a.Authorization&&(e.headers.Authorization=a.Authorization),e;},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>((0,i.showError)(e),Promise.reject(e)));},caa5c731:function(e,a,t){"use strict";t.d(a,"__esModule",{value:!0}),t.d(a,"default",{enumerable:!0,get:function(){return o;}});var s=t("26e051b7"),i=t("76b52bba"),n=t("a8e90e34"),d=t("1fc97d93"),r=t("ae74910a"),o=()=>{(0,r.useNavigate)(),(0,r.useLocation)();let e=(0,r.useIntl)(),[a,t]=(0,i.useState)(""),[o,u]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),f=async()=>{if(!a.trim()){c(e.formatMessage({id:"pages.unbindDevice.inputPlaceholder",defaultMessage:"\u8BF7\u8F93\u5165\u8BBE\u5907ID"}));return;}u(!0),c("");try{await n.API.delete("api/admin/system/device",{data:JSON.stringify({deviceID:a.trim()}),headers:{"Content-Type":"application/json"}}),c(e.formatMessage({id:"pages.unbindDevice.success",defaultMessage:"\u89E3\u7ED1\u6210\u529F"}));}catch(a){var t,s;c((null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||e.formatMessage({id:"pages.unbindDevice.fail",defaultMessage:"\u89E3\u7ED1\u5931\u8D25"})),(0,d.showError)(a);}finally{u(!1);}};return(0,s.jsxs)("div",{style:{maxWidth:400,margin:"0 auto"},children:[(0,s.jsx)("h2",{style:{fontWeight:700,fontSize:24,marginBottom:24,textAlign:"center"},children:e.formatMessage({id:"pages.unbindDevice.titleAdmin",defaultMessage:"\u8BBE\u5907\u89E3\u7ED1\uFF08\u9700\u7BA1\u7406\u5458\u6743\u9650\uFF09"})}),(0,s.jsx)("input",{type:"text",style:{width:"100%",padding:8,border:"1px solid #d9d9d9",borderRadius:4,marginBottom:16},placeholder:e.formatMessage({id:"pages.unbindDevice.inputPlaceholder",defaultMessage:"\u8BF7\u8F93\u5165\u8BBE\u5907ID"}),value:a,onChange:e=>t(e.target.value),disabled:o}),(0,s.jsx)("button",{style:{width:"100%",background:"#1677ff",color:"#fff",padding:8,borderRadius:4,border:"none",cursor:o?"not-allowed":"pointer",marginBottom:8},onClick:f,disabled:o,children:o?e.formatMessage({id:"pages.unbindDevice.unbinding",defaultMessage:"\u89E3\u7ED1\u4E2D..."}):e.formatMessage({id:"pages.unbindDevice.unbind",defaultMessage:"\u89E3\u7ED1"})}),l&&(0,s.jsx)("div",{style:{marginTop:16,textAlign:"center",color:l===e.formatMessage({id:"pages.unbindDevice.success",defaultMessage:"\u89E3\u7ED1\u6210\u529F"})?"#52c41a":"#ff4d4f"},children:l})]});};}}]);
//# sourceMappingURL=44d60379-async.3b57c750.js.map